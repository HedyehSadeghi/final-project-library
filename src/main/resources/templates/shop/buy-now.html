<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="fragments/resources :: head('create new purchase')"></head>
<body>
<style>
    body {
        background-image: url('/img/sfondo1.png');
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }
</style>
<nav th:replace="fragments/navbar :: topNavbar('admin')"></nav>
<div th:replace="fragments/navbar :: searchbar"></div>
<div class="container">
    <!-- Attributi: ClientPurchase clientPurchase -->
    <h1>Confirm purchase</h1>
    <div class="row border border-5 p-5 rounded-4">
        <div class="col-3 me-5">
            <img class="w-100 shadow-lg bg-dark rounded " th:src="${clientPurchase.book.photo}">
        </div>
        <div class="col-6">
            <form
                    id="buy"
                    th:object="${clientPurchase}"
                    th:action="@{/shop/buy}"
                    method="post">


                <div class="col-12">
                    <input th:field="*{book}" type="hidden">
                    <input th:field="*{date}" type="hidden">
                    <h2 th:text=" *{book.title}"></h2>
                </div>


                <div class="col-6">
                    <label class="form-label" for="amount">Amount</label>
                    <select id="amount" class="form-select w-25" th:field="*{amount}" onchange="changePrice(event)">
                        <option value="1" selected>1</option>
                        <option value="2"> 2</option>
                        <option value="3"> 3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                    </select>
                    <span th:text="*{getPrice()}" id="price" class="visually-hidden"> </span>
                    <p><strong>Prezzo totale: <span id="totalPrice" th:text="*{getPrice()}"></span>â‚¬</strong></p>
                </div>
            </form>
            <div class="col-12 mt-4">
                <button type="submit" class="btn btn-success">Save</button>
                <a class="btn btn-danger" th:href="@{/shop}">Back to list</a>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" th:src="@{/js/main.js}"></script>
<th:block th:replace="fragments/resources :: script"></th:block>
</body>
</html>
</html>